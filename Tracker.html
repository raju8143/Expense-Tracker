<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Expense Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
 <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="Tracker.css">  
</head>
  <body>
    <div class="header">
        <h6 class="m-0">Expense<br>Tracker <img src="wallet icon.png" class="img" width="35px" height="35px"alt=""> </h6>
    </div>
    <div class="input-form">
        <div class="form-floating mb-3 inputs">
  <input type="date" class="form-control dateInput" id="floatingInput" placeholder="name@example.com">
  <label for="floatingInput">Date</label>
</div>
<div class="form-floating mb-3 inputs">
  <input type="number" class="form-control amountInput" id="floatingInput" placeholder="name@example.com">
  <label for="floatingInput">Amount</label>
</div>
<select class="form-select inputs transactionType" aria-label="Default select example">
  <option selected>Transaction Type</option>
  <option value="income">Income</option>
  <option value="expense">Expense</option>
  
</select>

<button class="btn" id="add-button" onclick="addRow()">+</button>
    </div>
    <div class="cards">
        <div class="card" style="width: 18rem;">
  <div class="card-body">
    <h5 class="card-title">Total Income <img src="Totalincome.png" alt="" width="35px"></h5>
    <h1 id="totalIncome">â‚¹0</h1>
  </div>
</div>
<div class="card" style="width: 18rem;">
  <div class="card-body">
    <h5 class="card-title">Total Expenses <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSA3tafsy-hrYfxA_LH67FgeINnWCMsW6Ls33MsW1IbZJQAbWsuFHP7jZE&s" alt="" width="35px"></h5>
    <h1 id="totalExpense">â‚¹0</h1>
  </div>
</div>
<div class="card" style="width: 18rem;">
  <div class="card-body">
    <h5 class="card-title">Balance ðŸ’°</h5>
    <h1 id="totalBalance">â‚¹0</h1>
  </div>
</div>
    </div>
    <table class="transaction-table" id="table">
        <tr class="header-row">
            <th>Amount</th>
            <th>Transaction Type</th>
            <th>Transaction Date</th>
            <th>Action</th>
        </tr>
        
        
    </table>
    <script>
    // JavaScript to handle adding transactions
      let table = document.getElementById('table');

    function deleteRow(newRow) {
      newRow.remove();
    }

    function addRow(){
      let dateInput = document.getElementsByClassName('dateInput')[0].value;
      let amountInput = document.getElementsByClassName('amountInput')[0].value;
      let transactionType = document.getElementsByClassName('transactionType')[0].value;
      console.log(dateInput, amountInput, transactionType);

      let newRow = document.createElement('tr');
      let amountCell = document.createElement('td');
      amountCell.innerHTML = `â‚¹${amountInput}`;
      let typeCell = document.createElement('td');
      typeCell.innerHTML = transactionType;
      let dateCell = document.createElement('td');
      dateCell.innerHTML = dateInput;
      let actionCell = document.createElement('td');
      actionCell.innerHTML = `<button class="btn btn-danger btn-sm">Delete</button>`;
      actionCell.onclick = ()=> deleteRow(newRow);
      newRow.appendChild(amountCell);
      newRow.appendChild(typeCell); 
      newRow.appendChild(dateCell);
      newRow.appendChild(actionCell);
      table.appendChild(newRow);

      let totalIncome = document.getElementById('totalIncome');
      let totalExpense = document.getElementById('totalExpense');
      let totalBalance = document.getElementById('totalBalance');
      let income = parseInt(totalIncome.innerHTML.replace('â‚¹',''));
      let expense = parseInt(totalExpense.innerHTML.replace('â‚¹',''));
      if(transactionType === 'income'){
        income += parseInt(amountInput);
        totalIncome.innerHTML = `â‚¹${income}`;
      } else if(transactionType === 'expense'){
        expense += parseInt(amountInput);
        totalExpense.innerHTML = `â‚¹${expense}`;
      }
      let balance = income - expense;
      totalBalance.innerHTML = `â‚¹${balance}`;

      if (transactionType === 'Transaction Type') {
        alert('Please select a valid transaction type.');
        table.removeChild(newRow); // Remove the invalid row
        return;
      }

      // Clear input fields after adding the row
      document.getElementsByClassName('dateInput')[0].value = '';
      document.getElementsByClassName('amountInput')[0].value = '';
      document.getElementsByClassName('transactionType')[0].value = 'Transaction Type';

      if (dateInput === '' || amountInput === '' || transactionType === 'Transaction Type') {
        alert('Please fill in all fields.');
        table.removeChild(newRow); // Remove the invalid row
        return;
      }

      

    }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
 <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.min.js" integrity="sha384-G/EV+4j2dNv+tEPo3++6LCgdCROaejBqfUeNjuKAiuXbjrxilcCdDz6ZAVfHWe1Y" crossorigin="anonymous"></script> 
</body>
</html>